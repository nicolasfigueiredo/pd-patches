#N canvas 0 47 1366 702 10;
#X obj 21 -196 fft~;
#X obj 21 -166 cartopol~;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-real 64 float 3;
#A 0 57.6417 111.673 39.3723 24.849 18.2954 14.5151 12.0435 10.2978
8.99774 7.99156 7.18952 6.53512 5.99102 5.53152 5.13834 4.7981 4.50082
4.23888 4.00635 3.79858 3.61184 3.4431 3.28992 3.15025 3.02239 2.90494
2.79669 2.69661 2.60383 2.51759 2.43724 2.36221 2.292 2.22617 2.16432
2.10614 2.05131 1.99955 1.95063 1.90435 1.86057 1.81847 1.77916 1.74156
1.70577 1.67166 1.63913 1.60808 1.57842 1.55007 1.52292 1.49693 1.47205
1.44819 1.4253 1.40333 1.38224 1.36197 1.34249 1.32376 1.30572 1.28837
1.27167 1.25557;
#X coords 0 32 64 0 200 140 1 0 0;
#X restore 533 -191 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-imag 64 float 3;
#A 0 0 1.84851 1.73042 1.69794 1.68769 1.68641 1.68963 1.69542 1.70283
1.71132 1.72056 1.73035 1.74055 1.75106 1.76183 1.77279 1.78392 1.79518
1.80655 1.81801 1.82955 1.84117 1.85284 1.86456 1.87632 1.88813 1.89997
1.91184 1.92374 1.93566 1.94761 1.95958 1.97156 1.98356 1.99558 2.00761
2.01966 2.03171 2.04379 2.05588 2.06802 2.07992 2.09181 2.10414 2.11628
2.12841 2.14055 2.15268 2.16482 2.17696 2.18912 2.20126 2.21342 2.22558
2.23774 2.24991 2.26208 2.27425 2.28642 2.2986 2.31078 2.32296 2.33515
2.34734;
#X coords 0 16 64 -16 200 140 1 0 0;
#X restore 533 -16 graph;
#X obj 20 -135 tabsend~ \$0-real;
#X obj 134 -135 tabsend~ \$0-imag;
#X text 635 -210 MAGNITUDE;
#X text 643 -35 FASE;
#X obj 104 -46 bang~;
#X obj 104 33 counter;
#X obj 104 68 tabread \$0-real;
#X floatatom 20 50 5 0 0 0 - - -, f 5;
#X obj 104 151 moses;
#X msg 238 70 0;
#X obj 179 150 f;
#X floatatom 104 208 5 0 0 0 - - -, f 5;
#X floatatom 124 97 5 0 0 0 - - -, f 5;
#X floatatom 146 209 5 0 0 0 - - -, f 5;
#X obj 272 40 loadbang;
#X obj 188 214 f;
#X obj 20 76 s k;
#X obj 216 191 r k;
#X floatatom 188 246 5 0 0 0 - - -, f 5;
#X obj 188 191 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 188 273 s kmax;
#N canvas 404 101 450 300 freqpico 0;
#X obj 12 105 expr $f1*$f2;
#X floatatom 159 75 5 0 0 0 - - -, f 5;
#X obj 12 11 r kmax;
#X obj 12 129 outlet;
#X obj 102 76 s R/N;
#X obj 81 12 r N;
#X obj 81 36 expr 44100 / $f1;
#X connect 0 0 3 0;
#X connect 2 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 6 0 1 0;
#X connect 6 0 0 1;
#X restore 215 388 pd freqpico;
#X floatatom 215 416 10 0 0 0 - - -, f 10;
#N canvas 0 47 1366 702 diffase 0;
#X obj 63 89 tabread \$0-imag;
#X obj 69 176 -;
#X obj 117 1 r kmax;
#X floatatom 125 130 5 0 0 0 - - -, f 5;
#X obj 63 47 f;
#X obj 63 1 bang~;
#X obj 63 130 t f f;
#X floatatom 383 289 5 0 0 0 - - -, f 5;
#X obj 294 195 loadbang;
#X obj 294 244 expr 8*atan(1);
#X obj 69 262 /;
#X obj 69 311 +;
#X obj 108 294 r kmax;
#X obj 69 379 expr $f1 * $f2;
#X obj 150 327 r R/N;
#X floatatom 190 357 5 0 0 0 - - -, f 5;
#X floatatom 140 451 5 0 0 0 - - -, f 5;
#X obj 69 451 outlet;
#X floatatom 33 258 5 0 0 0 - - -, f 5;
#N canvas 759 127 620 616 wraparound 0;
#X obj 88 22 inlet;
#X obj 88 80 t f f;
#X obj 88 130 <;
#X obj 88 172 sel 1 0;
#X obj 169 207 f;
#X obj 168 261 t f f;
#X obj 55 213 f;
#X obj 167 310 >;
#X obj 168 351 sel 1 0;
#X obj 183 386 f;
#X floatatom 101 472 5 0 0 0 - - -, f 5;
#X obj 247 388 f;
#X obj 182 61 r 2pi;
#X obj 182 97 / -2;
#X obj 283 261 r 2pi;
#X obj 283 293 / 2;
#X obj 101 569 outlet;
#X obj 96 242 r 2pi;
#X obj 37 261 +;
#X obj 281 414 r 2pi;
#X obj 183 431 -;
#X text 249 18 esse patch adiciona 2pi se a entrada é menor que pi
\,;
#X text 251 33 e subtrai 2pi se a entrada é maior que pi.;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 4 1;
#X connect 1 1 6 1;
#X connect 2 0 3 0;
#X connect 3 0 6 0;
#X connect 3 1 4 0;
#X connect 4 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 9 1;
#X connect 5 1 11 1;
#X connect 6 0 18 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 8 1 11 0;
#X connect 9 0 20 0;
#X connect 10 0 16 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 13 0 2 1;
#X connect 14 0 15 0;
#X connect 15 0 7 1;
#X connect 17 0 18 1;
#X connect 18 0 10 0;
#X connect 19 0 20 1;
#X connect 20 0 10 0;
#X restore 69 217 pd wraparound;
#X obj 294 290 s 2pi;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 1 0 19 0;
#X connect 2 0 4 1;
#X connect 4 0 0 0;
#X connect 5 0 4 0;
#X connect 6 0 1 1;
#X connect 6 1 1 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 9 0 10 1;
#X connect 9 0 20 0;
#X connect 10 0 11 0;
#X connect 11 0 13 0;
#X connect 12 0 11 1;
#X connect 13 0 16 0;
#X connect 13 0 17 0;
#X connect 14 0 13 1;
#X connect 14 0 15 0;
#X connect 19 0 10 0;
#X connect 19 0 18 0;
#X restore 419 389 pd diffase;
#X floatatom 419 416 10 0 0 0 - - -, f 10;
#N canvas 99 78 450 483 interpolquad 0;
#N canvas 1090 230 450 391 A 0;
#X obj 166 16 r kmax;
#X obj 279 93 - 1;
#X obj 46 90 + 1;
#X obj 166 157 tabread \$0-real;
#X obj 46 158 tabread \$0-real;
#X obj 279 156 tabread \$0-real;
#X obj 90 285 outlet;
#X floatatom 149 286 5 0 0 0 - - -, f 5;
#X obj 90 235 expr ($f1 - 2*$f2 + $f3)/2;
#X connect 0 0 3 0;
#X connect 0 0 2 0;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 3 0 8 1;
#X connect 4 0 8 0;
#X connect 5 0 8 2;
#X connect 8 0 6 0;
#X connect 8 0 7 0;
#X restore 21 12 pd A;
#N canvas 195 478 450 300 B 0;
#X obj 29 22 r kmax;
#X obj 29 96 tabread \$0-real;
#X obj 154 97 tabread \$0-real;
#X obj 29 58 + 1;
#X obj 81 59 - 1;
#X obj 29 191 outlet;
#X obj 29 144 expr ($f1-$f2)/2;
#X floatatom 88 193 5 0 0 0 - - -, f 5;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 1 0 6 0;
#X connect 2 0 6 1;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X connect 6 0 5 0;
#X connect 6 0 7 0;
#X restore 129 13 pd B;
#X obj 21 37 s A;
#X obj 129 38 s B;
#X obj 139 92 r B;
#X obj 216 90 r A;
#X obj 63 125 expr $f1 - ($f2 / ($f3*2));
#X obj 63 92 r kmax;
#X floatatom 112 320 5 0 0 0 - - -, f 5;
#X obj 63 320 outlet;
#X obj 132 214 r R/N;
#X obj 63 276 expr $f1*$f2;
#X text 71 250 x*;
#X floatatom 90 183 5 0 0 0 - - -, f 5;
#X obj 14 68 r lastbang;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 4 0 6 1;
#X connect 5 0 6 2;
#X connect 6 0 11 0;
#X connect 6 0 13 0;
#X connect 7 0 6 0;
#X connect 10 0 11 1;
#X connect 11 0 9 0;
#X connect 11 0 8 0;
#X connect 14 0 6 0;
#X restore 307 389 pd interpolquad;
#X floatatom 307 416 10 0 0 0 - - -, f 10;
#X obj 169 -64 r N;
#X obj 169 -30 / 2;
#X obj 104 -13 uzi;
#X obj 215 452 outlet;
#X obj 419 454 outlet;
#X obj 307 451 outlet;
#X obj 275 -205 block~ \$1;
#X obj 21 -218 inlet~;
#X obj 196 21 s lastbang;
#N canvas 259 50 326 263 resizevectors 0;
#X obj 20 -194 loadbang;
#X obj 20 -166 f \$1;
#X obj 20 -139 max 64;
#X obj 20 -101 f;
#X obj 20 -72 t b f;
#X obj 20 -40 pack \$0 f;
#X obj 110 -100 s N;
#X msg 145 -7 \; \$1-imag resize \$2;
#X msg 20 -7 \; \$1-real resize \$2;
#X floatatom 161 -99 5 0 0 0 - - -, f 5;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 8 0;
#X connect 5 0 7 0;
#X restore 350 -205 pd resizevectors;
#X text 26 -84 Method for obtaining k (maximum amplitude FFT element
index):;
#X text 211 150 moses selects maximum amplitude in an;
#X text 213 166 analysis block;
#X text 241 278 kmax = index from maximum FFT amplitude element;
#X text 240 293;
#X text 209 364 Peak;
#X text 294 366 Quadratic interpol.;
#X text 448 369 Phase difference;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 4 0;
#X connect 1 1 5 0;
#X connect 8 0 33 0;
#X connect 9 0 11 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 10 0 16 0;
#X connect 11 0 20 0;
#X connect 12 0 15 0;
#X connect 12 1 14 0;
#X connect 12 1 17 0;
#X connect 12 1 23 0;
#X connect 13 0 12 1;
#X connect 14 0 12 1;
#X connect 18 0 13 0;
#X connect 19 0 22 0;
#X connect 21 0 19 1;
#X connect 22 0 24 0;
#X connect 23 0 19 0;
#X connect 25 0 26 0;
#X connect 26 0 34 0;
#X connect 27 0 28 0;
#X connect 28 0 35 0;
#X connect 29 0 30 0;
#X connect 30 0 36 0;
#X connect 31 0 32 0;
#X connect 32 0 33 1;
#X connect 33 0 9 0;
#X connect 33 1 9 2;
#X connect 33 1 13 0;
#X connect 33 1 39 0;
#X connect 38 0 0 0;
